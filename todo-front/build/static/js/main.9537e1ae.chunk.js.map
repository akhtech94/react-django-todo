{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["App","props","state","todolist","activeItem","id","title","completed","editing","fetchTasks","bind","handleChange","handleSubmit","getCookie","handleEdit","handleDelete","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","this","fetch","then","response","json","data","setState","e","value","target","console","log","preventDefault","csrftoken","url","method","headers","body","JSON","stringify","catch","errror","task","tasks","self","className","onSubmit","onChange","type","placeholder","map","index","onClick","React","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9537e1ae.chunk.js","sourcesContent":["import './App.css';\nimport React from 'react';\n\nclass App extends React.Component{\n  constructor(props){\n    super(props);\n    this.state = {\n      todolist:[],\n      activeItem:{\n        id:null,\n        title:'',\n        completed:false,\n      },\n      editing:false\n    }\n    this.fetchTasks = this.fetchTasks.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.getCookie = this.getCookie.bind(this);\n    this.handleEdit = this.handleEdit.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n  }\n\n  getCookie(name) {\n  let cookieValue = null;\n  if (document.cookie && document.cookie !== '') {\n      const cookies = document.cookie.split(';');\n      for (let i = 0; i < cookies.length; i++) {\n          const cookie = cookies[i].trim();\n          // Does this cookie string begin with the name we want?\n          if (cookie.substring(0, name.length + 1) === (name + '=')) {\n              cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n              break;\n          }\n      }\n  }\n  return cookieValue;\n}\n\n  componentWillMount(){\n    this.fetchTasks();\n    \n  }\n\n  fetchTasks(){\n    fetch('http://akhtech94.pythonanywhere.com/api/task-list/')\n    .then(response => response.json())\n    .then(data => this.setState({todolist:data}))\n  }\n\n  handleChange(e){\n    let value = e.target.value;\n    console.log(value);\n    this.setState({activeItem:{...this.state.activeItem, title:value}});\n\n  }\n\n  handleSubmit(e){\n    e.preventDefault();\n    console.log(this.state.activeItem);\n    const csrftoken = this.getCookie('csrftoken');\n    let url = 'http://akhtech94.pythonanywhere.com/api/task-create/';\n    if(this.state.editing === true){\n      url = 'http://akhtech94.pythonanywhere.com/api/task-update/' + this.state.activeItem.id + '/';\n      console.log(this.state.activeItem.id);\n      this.setState({editing:false});\n    }\n    fetch(url, {\n      method:'POST', headers:{\n        'Content-type':'application/json',\n        'X-CSRFToken':csrftoken,\n      },\n    body:JSON.stringify(this.state.activeItem)\n  }).then(response => {\n    this.fetchTasks();\n    this.setState({\n      activeItem:{\n        id:null,\n        title:'',\n        completed:false,\n      }\n    })\n  }).catch(function(errror){\n    console.log(\"Error: \", errror);\n  })\n  }\n\n  handleEdit(task){\n    this.setState({\n      activeItem:task,\n      editing:true,\n    })\n  }\n\n  handleDelete(task){\n    const csrftoken = this.getCookie('csrftoken');\n    let url = 'http://akhtech94.pythonanywhere.com/api/task-delete/' + task.id + '/';\n    fetch(url, {\n      method:'DELETE',\n      headers:{\n        'Content-type':'application/json',\n        'X-CSRFToken':csrftoken,\n      }\n    }).then( response => {this.fetchTasks();})\n  }\n\n  render(){\n    let tasks = this.state.todolist\n    let self = this;\n    return(\n      <div className=\"container\">\n        <div className=\"mainwrapper rounded my-5\">\n          <div className=\"formwrapper p-3\"> \n            <form onSubmit={this.handleSubmit}>\n              <div className=\"form-row mt-3\">\n                <div className=\"col-md-10 py-1\">\n                  <input onChange={this.handleChange} type=\"text\" className=\"form-control\" placeholder=\"Your new task\" name=\"title\" value={this.state.activeItem.title}></input>\n                </div>\n                <div className=\"col-md-2 py-1\">\n                  <input type=\"submit\" value=\"SUBMIT\" className=\"form-control btn btn-primary\" id=\"submit\"></input>\n                </div>\n              </div>\n            </form>                 \n          </div>\n          <div className=\"listwrapper pb-2\">\n            <hr />\n            {tasks.map((task, index) => {\n              return(\n                <div key={index}>\n                  <div className=\"form-row p-1 m-1\">\n                    <div className=\"col-lg-10\">\n                      <span>{task.title}</span>                      \n                    </div>\n                    <div className=\"col-lg-2\">\n                      <div className=\"btn-group pr-1\">\n                        <button onClick={() => self.handleEdit(task)} className=\"btn btn-warning mx-1\">EDIT</button>\n                        <button onClick={() => self.handleDelete(task)} className=\"btn btn-outline-danger mx-1\">DELETE</button>  \n                      </div>\n                    </div>\n                    <hr />                                            \n                  </div>\n                </div>\n              )\n            })}            \n          </div>\n        </div>        \n      </div>\n    )\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}